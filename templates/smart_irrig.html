<html>
<head>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>
</head>
<body>
<button id="show">show Graph</button>
<button id="show1">show Table</button>
<div id="chart"></div>
<table id = "mytable" class="w3-table w3-striped w3-bordered">
    <tr class="w3-black w3-text-white">
      <th>Time</th>
      <th>Humidity</th>
      <th>Temperature</th>
      <th>Moisture</th>
      <th>Weather</th>
    </tr>
</table>
</body>
</html>


<script>
$('#show').click(function() {
        $.ajax({
            url : '/show1',
            success: function(data) {
		    console.log(data);
                    createtable(data);
	    }
        });
    });

$('#show1').click(function() {
        $.ajax({
            url : '/show2',
            success: function(data) {
		    console.log(data);
                    createtable1(data);
	    }
        });
    });


function createtable(data){
var chart = c3.generate({
        bindto: '#chart',
            data: {
                columns: data
            },
	size: {
        height: 500,
        width: 800
    },
        });

}

function createtable1(data){

var table = document.getElementById("mytable");
for(i=0 ; i < data[0].length ;i++){
  var row = table.insertRow(i+1);
  var cell1 = row.insertCell(0);
  var cell2 = row.insertCell(1);	
  var cell3 = row.insertCell(2);
  var cell4 = row.insertCell(3);
  var cell5 = row.insertCell(4);
  cell1.innerHTML = data[0][i];
  cell2.innerHTML = data[1][i];
  cell3.innerHTML = data[2][i];
  cell4.innerHTML = data[3][i];
  cell5.innerHTML = data[4][i];
}
}
</script>

</body>
</html>
